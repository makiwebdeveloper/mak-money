# üîê End-to-End Encryption –¥–ª—è Mak Money

## –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –∑–∞–≤–µ—Ä—à–µ–Ω–æ (5/10 —ç—Ç–∞–ø–æ–≤)

1. **–ö—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∏–π —Å–µ—Ä–≤–∏—Å** ‚úÖ
   - –§–∞–π–ª: `src/lib/services/encryption-service.ts`
   - AES-GCM 256-bit —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ Web Crypto API
   - –§—É–Ω–∫—Ü–∏–∏: –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–µ–π, —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ, –¥–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
   - Base64 –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è

2. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–ª—é—á–∞–º–∏** ‚úÖ
   - –§–∞–π–ª: `src/lib/services/key-management-service.ts`
   - –•—Ä–∞–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–π –≤ IndexedDB –±—Ä–∞—É–∑–µ—Ä–∞
   - –≠–∫—Å–ø–æ—Ä—Ç/–∏–º–ø–æ—Ä—Ç –¥–ª—è backup –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
   - Recovery phrase –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
   - –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ø–∞–º—è—Ç–∏ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

3. **–ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö** ‚úÖ
   - –§–∞–π–ª: `supabase/migrations/011_add_encryption_support.sql`
   - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–æ–ª—è `encrypted_data` (JSONB) –≤–æ –≤—Å–µ —Ç–∞–±–ª–∏—Ü—ã
   - –°—Ç–∞—Ä—ã–µ –ø–æ–ª—è —Å–¥–µ–ª–∞–Ω—ã nullable –¥–ª—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏
   - –ò–Ω–¥–µ–∫—Å—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤

4. **TypeScript —Ç–∏–ø—ã** ‚úÖ
   - –§–∞–π–ª: `src/lib/types/database.ts`
   - –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –¥–ª—è –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
   - –¢–∏–ø—ã –¥–ª—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (`DecryptedAccount`, etc.)
   - –ü–æ–ª–Ω–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –¥–ª—è –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π

5. **React —Ö—É–∫–∏** ‚úÖ
   - –§–∞–π–ª: `src/lib/hooks/useEncryption.ts`
   - `useAccountEncryption()` - –¥–ª—è —Å—á–µ—Ç–æ–≤
   - `useTransactionEncryption()` - –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
   - `usePoolEncryption()` - –¥–ª—è –ø—É–ª–æ–≤
   - `useAllocationEncryption()` - –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∏ –æ—à–∏–±–∫–∞–º–∏

### üìã –¢—Ä–µ–±—É—é—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (5/10 —ç—Ç–∞–ø–æ–≤)

6. **API Routes** - —Å–º. `EXAMPLE_api_accounts_encrypted.ts`
7. **–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã** - —Å–º. `EXAMPLE_useAccounts_encrypted.ts`
8. **–û–Ω–±–æ—Ä–¥–∏–Ω–≥** - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–ª—é—á–∞ –¥–ª—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
9. **UI —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–ª—é—á–∞–º–∏** - backup, –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ, —ç–∫—Å–ø–æ—Ä—Ç
10. **Home View** - —Ä–∞—Å—á–µ—Ç –±–∞–ª–∞–Ω—Å–æ–≤ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–µ—à–µ–Ω–∏—è

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    –ö–õ–ò–ï–ù–¢ (–ë—Ä–∞—É–∑–µ—Ä)                         ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç –¥–∞–Ω–Ω—ã–µ                              ‚îÇ
‚îÇ     ‚îî‚îÄ> "–°–±–µ—Ä–±–∞–Ω–∫", 50000 —Ä—É–±                              ‚îÇ
‚îÇ                                                              ‚îÇ
‚îÇ  2. –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ                                   ‚îÇ
‚îÇ     ‚îî‚îÄ> encryptAccount("–°–±–µ—Ä–±–∞–Ω–∫", 50000)                  ‚îÇ
‚îÇ     ‚îî‚îÄ> { ciphertext: "x7f2k...", iv: "9a3b...", v: 1 }   ‚îÇ
‚îÇ                                                              ‚îÇ
‚îÇ  3. –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä                                      ‚îÇ
‚îÇ     ‚îî‚îÄ> POST /api/accounts                                  ‚îÇ
‚îÇ     ‚îî‚îÄ> body: { encrypted_data, currency: "RUB" }          ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚îÇ
                           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    –°–ï–†–í–ï–† (Next.js API)                     ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  4. –ü–æ–ª—É—á–µ–Ω–∏–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö                          ‚îÇ
‚îÇ     ‚îî‚îÄ> –ù–ï —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç!                                 ‚îÇ
‚îÇ     ‚îî‚îÄ> –ü—Ä–æ—Å—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–∞–∫ JSONB blob                    ‚îÇ
‚îÇ                                                              ‚îÇ
‚îÇ  5. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î                                         ‚îÇ
‚îÇ     ‚îî‚îÄ> INSERT INTO accounts                                ‚îÇ
‚îÇ     ‚îî‚îÄ> (encrypted_data, currency, user_id)                ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚îÇ
                           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ              –ë–ê–ó–ê –î–ê–ù–ù–´–• (Supabase/PostgreSQL)             ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  –•—Ä–∞–Ω–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ:                                           ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ
‚îÇ  ‚îÇ id: "uuid-123"                                        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ user_id: "user-456"                                   ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ currency: "RUB"  ‚Üê –≤–∏–¥–Ω–æ                             ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ type: "bank"     ‚Üê –≤–∏–¥–Ω–æ                             ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ encrypted_data: {                                     ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   "ciphertext": "x7f2kM9pL3..." ‚Üê –ù–ï –í–ò–î–ù–û!         ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   "iv": "9a3bQr8x..."                                 ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ   "version": 1                                        ‚îÇ  ‚îÇ
‚îÇ  ‚îÇ }                                                      ‚îÇ  ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ
‚îÇ                                                              ‚îÇ
‚îÇ  –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –ë–î –ù–ï –ú–û–ñ–ï–¢ –ø—Ä–æ—á–∏—Ç–∞—Ç—å:                      ‚îÇ
‚îÇ  ‚ùå –ù–∞–∑–≤–∞–Ω–∏–µ —Å—á–µ—Ç–∞ ("–°–±–µ—Ä–±–∞–Ω–∫")                            ‚îÇ
‚îÇ  ‚ùå –ë–∞–ª–∞–Ω—Å (50000)                                         ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                           ‚îÇ
                           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                –ö–õ–ò–ï–ù–¢ (–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö)                  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  6. –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö                                        ‚îÇ
‚îÇ     ‚îî‚îÄ> GET /api/accounts                                   ‚îÇ
‚îÇ     ‚îî‚îÄ> [{ encrypted_data: {...}, currency: "RUB" }]       ‚îÇ
‚îÇ                                                              ‚îÇ
‚îÇ  7. –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ                                  ‚îÇ
‚îÇ     ‚îî‚îÄ> decryptAccountRow(row)                             ‚îÇ
‚îÇ     ‚îî‚îÄ> { name: "–°–±–µ—Ä–±–∞–Ω–∫", balance: 50000 }              ‚îÇ
‚îÇ                                                              ‚îÇ
‚îÇ  8. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é                                ‚îÇ
‚îÇ     ‚îî‚îÄ> "–°–±–µ—Ä–±–∞–Ω–∫: 50 000 ‚ÇΩ"                              ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

## –ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### ‚úÖ –ß—Ç–æ –∑–∞—â–∏—â–µ–Ω–æ

1. **–§–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ:**
   - –ù–∞–∑–≤–∞–Ω–∏—è —Å—á–µ—Ç–æ–≤
   - –ë–∞–ª–∞–Ω—Å—ã
   - –°—É–º–º—ã —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π
   - –û–ø–∏—Å–∞–Ω–∏—è –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
   - –ù–∞–∑–≤–∞–Ω–∏—è –ø—É–ª–æ–≤ –¥–µ–Ω–µ–≥
   - –°—É–º–º—ã —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π

2. **–û—Ç –∫–æ–≥–æ –∑–∞—â–∏—â–µ–Ω–æ:**
   - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã —Å–µ—Ä–≤–∏—Å–∞
   - –í–ª–∞–¥–µ–ª—å—Ü—ã —Å–µ—Ä–≤–µ—Ä–æ–≤
   - –ó–ª–æ—É–º—ã—à–ª–µ–Ω–Ω–∏–∫–∏ —Å –¥–æ—Å—Ç—É–ø–æ–º –∫ –ë–î
   - –•–∞–∫–µ—Ä—ã –ø—Ä–∏ —É—Ç–µ—á–∫–µ –¥–∞–Ω–Ω—ã—Ö

### ‚ö†Ô∏è –ß—Ç–æ –ù–ï –∑–∞—â–∏—â–µ–Ω–æ (–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ)

–°–ª–µ–¥—É—é—â–∏–µ –¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è –æ—Ç–∫—Ä—ã—Ç—ã–º–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã:

- `user_id` - –¥–ª—è RLS –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
- `currency` - –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- `type` - —Ç–∏–ø —Å—á–µ—Ç–∞/—Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- `created_at`, `updated_at` - –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏
- `transaction_date` - –¥–∞—Ç–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏
- `is_active` - —Å—Ç–∞—Ç—É—Å –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏

**–ü–æ—á–µ–º—É:** –≠—Ç–∏ –¥–∞–Ω–Ω—ã–µ –Ω—É–∂–Ω—ã –¥–ª—è –±–∞–∑–æ–≤–æ–π —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (—Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞, RLS).

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∫–ª—é—á–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

### –ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –∫–ª—é—á:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –ë—Ä–∞—É–∑–µ—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è            ‚îÇ
‚îÇ  ‚îú‚îÄ IndexedDB                    ‚îÇ
‚îÇ  ‚îÇ  ‚îî‚îÄ master_encryption_key     ‚îÇ
‚îÇ  ‚îÇ     (256-bit AES key)         ‚îÇ
‚îÇ  ‚îÇ                                ‚îÇ
‚îÇ  ‚îî‚îÄ Memory cache                 ‚îÇ
‚îÇ     (–≤–æ –≤—Ä–µ–º—è —Å–µ—Å—Å–∏–∏)            ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

‚ùå –ù–ï —Ö—Ä–∞–Ω–∏—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
‚ùå –ù–ï –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –ø–æ —Å–µ—Ç–∏ (–∫—Ä–æ–º–µ –±—ç–∫–∞–ø–∞)
‚ùå –ù–ï –≤ localStorage (–º–µ–Ω–µ–µ –±–µ–∑–æ–ø–∞—Å–Ω–æ)
```

### –°—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

1. **–ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**

   ```
   –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ‚Üí –û–Ω–±–æ—Ä–¥–∏–Ω–≥ ‚Üí –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–∞ ‚Üí
   –ü–æ–∫–∞–∑ recovery phrase ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ IndexedDB
   ```

2. **–ù–æ–≤–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ:**

   ```
   –í—Ö–æ–¥ ‚Üí –ó–∞–ø—Ä–æ—Å –∫–ª—é—á–∞ ‚Üí –ò–º–ø–æ—Ä—Ç recovery phrase ‚Üí
   –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ IndexedDB –Ω–æ–≤–æ–≥–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
   ```

3. **–ü–æ—Ç–µ—Ä—è –∫–ª—é—á–∞:**
   ```
   ‚ö†Ô∏è –ù–ï–í–û–ó–ú–û–ñ–ù–û –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
   –ü—Ä–∏–¥–µ—Ç—Å—è –Ω–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ
   ```

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –í—Ä–µ–º—è –æ–ø–µ—Ä–∞—Ü–∏–π (–ø—Ä–∏–º–µ—Ä–Ω—ã–µ):

- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª—é—á–∞: ~50ms
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Å—á–µ—Ç–∞: ~5ms
- –î–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ —Å—á–µ—Ç–∞: ~5ms
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ 100 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π: ~500ms
- –î–µ—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ 100 —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π: ~500ms

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

1. **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–∞ –≤ –ø–∞–º—è—Ç–∏** - –∏–∑–±–µ–≥–∞–µ–º –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –æ–±—Ä–∞—â–µ–Ω–∏–π –∫ IndexedDB
2. **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞** - `Promise.all()` –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –æ–±—ä–µ–∫—Ç–æ–≤
3. **Lazy decryption** - —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –≤–∏–¥–∏–º—ã–µ –¥–∞–Ω–Ω—ã–µ
4. **Web Workers** (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) - –¥–ª—è –±–æ–ª—å—à–∏—Ö –æ–±—ä–µ–º–æ–≤ –¥–∞–Ω–Ω—ã—Ö

## –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç

### –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```typescript
// –ü—Ä–∏ –æ–Ω–±–æ—Ä–¥–∏–Ω–≥–µ:
'üîê –í–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –∑–∞—â–∏—â–µ–Ω—ã —Å–∫–≤–æ–∑–Ω—ã–º —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º';
'‚úÖ –¢–æ–ª—å–∫–æ –≤—ã –º–æ–∂–µ—Ç–µ –≤–∏–¥–µ—Ç—å —Å–≤–æ–∏ —Ñ–∏–Ω–∞–Ω—Å—ã';
'‚ùå –°–µ—Ä–≤–∏—Å –ù–ï –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø–∞ –∫ –≤–∞—à–∏–º –¥–∞–Ω–Ω—ã–º';
'‚ö†Ô∏è –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–ª—é—á –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è - —ç—Ç–æ –≤–∞–∂–Ω–æ!';

// –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è:
'‚ö†Ô∏è –ü–æ—Ç–µ—Ä—è –∫–ª—é—á–∞ = –ø–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞–≤—Å–µ–≥–¥–∞';
'üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∫–ª—é—á –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ';
'üì± –ü—Ä–∏ —Å–º–µ–Ω–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –∫–ª—é—á';

// –ü—Ä–∏ —Ä–∞–±–æ—Ç–µ:
'üîì –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö...'; // loading state
'‚úÖ –î–∞–Ω–Ω—ã–µ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã';
'‚ùå –û—à–∏–±–∫–∞ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏ - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–ª—é—á';
```

### UI —ç–ª–µ–º–µ–Ω—Ç—ã:

- üîí –ò–∫–æ–Ω–∫–∞ –∑–∞–º–∫–∞ - –¥–∞–Ω–Ω—ã–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã
- üîì –ò–∫–æ–Ω–∫–∞ –æ—Ç–∫—Ä—ã—Ç–æ–≥–æ –∑–∞–º–∫–∞ - –∏–¥–µ—Ç —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞
- ‚ö†Ô∏è –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –≤–∞–∂–Ω–æ—Å—Ç–∏ –±—ç–∫–∞–ø–∞
- üìã –ö–Ω–æ–ø–∫–∞ "–ö–æ–ø–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è"
- üíæ "–≠–∫—Å–ø–æ—Ä—Ç –∫–ª—é—á–∞" –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
- üì• "–ò–º–ø–æ—Ä—Ç –∫–ª—é—á–∞" –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

## –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö

### –ï—Å–ª–∏ —É–∂–µ –µ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å –Ω–µ–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:

```typescript
// –°–∫—Ä–∏–ø—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ (–∑–∞–ø—É—Å—Ç–∏—Ç—å –æ–¥–∏–Ω —Ä–∞–∑):
async function migrateUserData(userId: string) {
  // 1. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∫–ª—é—á –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  const key = await initializeUserKey();
  const recoveryPhrase = await getRecoveryPhrase();

  // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é email —Å recovery phrase!
  await sendEmailWithRecoveryPhrase(userId, recoveryPhrase);

  // 2. –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –Ω–µ–∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
  const accounts = await fetchUnencryptedAccounts(userId);

  // 3. –®–∏—Ñ—Ä—É–µ–º –∏ –æ–±–Ω–æ–≤–ª—è–µ–º
  for (const account of accounts) {
    if (!account.encrypted_data && account.name && account.balance !== null) {
      const encrypted_data = await encryptAccount(
        account.name,
        account.balance,
      );

      await updateAccount(account.id, {
        encrypted_data,
        name: null, // –æ—á–∏—â–∞–µ–º –æ—Ç–∫—Ä—ã—Ç—ã–µ –ø–æ–ª—è
        balance: null,
      });
    }
  }

  // 4. –ü–æ–≤—Ç–æ—Ä—è–µ–º –¥–ª—è —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π, –ø—É–ª–æ–≤ –∏ —Ç.–¥.
}
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ü—Ä–æ–≤–µ—Ä–æ—á–Ω—ã–π —Å–ø–∏—Å–æ–∫:

- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∫–ª—é—á–∞
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ recovery phrase
- [ ] –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Å—á–µ—Ç–∞
- [ ] –†–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] –£–¥–∞–ª–µ–Ω–∏–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] –†–∞–±–æ—Ç–∞ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö (–∏–º–ø–æ—Ä—Ç –∫–ª—é—á–∞)
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î - –¥–∞–Ω–Ω—ã–µ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –Ω–µ—á–∏—Ç–∞–µ–º—ã–º–∏
- [ ] –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏ 100+ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è—Ö
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏

### –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏:

```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –≤ –ë–î –Ω–µ—Ç –æ—Ç–∫—Ä—ã—Ç—ã—Ö –¥–∞–Ω–Ω—ã—Ö
SELECT name, balance FROM accounts WHERE user_id = 'test-user';
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: name = NULL, balance = NULL

# 2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
SELECT encrypted_data FROM accounts WHERE user_id = 'test-user';
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å: JSON —Å ciphertext, iv, version

# 3. –ü–æ–ø—ã—Ç–∞—Ç—å—Å—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∞—Ç—å –±–µ–∑ –∫–ª—é—á–∞
# –î–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—à–∏–±–∫–∞: "Encryption key not available"

# 4. –ò–º–ø–æ—Ä—Ç –∫–ª—é—á–∞ –∏ —É—Å–ø–µ—à–Ω–∞—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞
# –î–æ–ª–∂–Ω—ã –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å—Å—è —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
```

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### FAQ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:

**Q: –ß—Ç–æ —Ç–∞–∫–æ–µ —Å–∫–≤–æ–∑–Ω–æ–µ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ?**
A: –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ã –Ω–∞ –≤–∞—à–µ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ, –∏ —Ç–æ–ª—å–∫–æ –≤—ã –º–æ–∂–µ—Ç–µ –∏—Ö –ø—Ä–æ—á–∏—Ç–∞—Ç—å. –î–∞–∂–µ –º—ã, —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏, –Ω–µ –≤–∏–¥–∏–º –≤–∞—à–∏ —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ.

**Q: –ß—Ç–æ –±—É–¥–µ—Ç, –µ—Å–ª–∏ —è –ø–æ—Ç–µ—Ä—è—é –∫–ª—é—á?**
A: –ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –±–µ–∑–≤–æ–∑–≤—Ä–∞—Ç–Ω–æ —É—Ç–µ—Ä—è–Ω—ã. –ü–æ—ç—Ç–æ–º—É –æ—á–µ–Ω—å –≤–∞–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–ª—é—á –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ.

**Q: –ì–¥–µ —Ö—Ä–∞–Ω–∏—Ç—Å—è –º–æ–π –∫–ª—é—á?**
A: –ö–ª—é—á —Ö—Ä–∞–Ω–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ –∏ –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –Ω–∞ –Ω–∞—à —Å–µ—Ä–≤–µ—Ä.

**Q: –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö?**
A: –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–ª—é—á –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞ –≤–∞—à–µ–≥–æ –∫–ª—é—á–∞ –Ω–∞ –Ω–æ–≤–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ.

**Q: –ú–æ–≥—É—Ç –ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –≤–∏–¥–µ—Ç—å –º–æ–∏ –¥–∞–Ω–Ω—ã–µ?**
A: –ù–µ—Ç, –º—ã –≤–∏–¥–∏–º —Ç–æ–ª—å–∫–æ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–æ—á–∏—Ç–∞—Ç—å –±–µ–∑ –≤–∞—à–µ–≥–æ –∫–ª—é—á–∞.

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. ‚úÖ –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ë–î
2. üìù –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å API routes (—Å–º. –ø—Ä–∏–º–µ—Ä—ã)
3. üé® –û–±–Ω–æ–≤–∏—Ç—å –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
4. üöÄ –î–æ–±–∞–≤–∏—Ç—å –æ–Ω–±–æ—Ä–¥–∏–Ω–≥ —Å –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –∫–ª—é—á–∞
5. ‚öôÔ∏è –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞—Å—Ç—Ä–æ–µ–∫ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è
6. üè† –û–±–Ω–æ–≤–∏—Ç—å home-view –¥–ª—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏
7. üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
8. üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
9. üéì –û–±—É—á–∞—é—â–∏–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã (–∫–∞–∫ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∫–ª—é—á)
10. üö¢ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: `E2EE_IMPLEMENTATION.md`
- –ü—Ä–∏–º–µ—Ä API: `EXAMPLE_api_accounts_encrypted.ts`
- –ü—Ä–∏–º–µ—Ä —Ö—É–∫–∞: `EXAMPLE_useAccounts_encrypted.ts`
- –ú–∏–≥—Ä–∞—Ü–∏—è –ë–î: `supabase/migrations/011_add_encryption_support.sql`

---

**–°—Ç–∞—Ç—É—Å:** –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≥–æ—Ç–æ–≤–∞ (50%). –¢—Ä–µ–±—É–µ—Ç—Å—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã.
